{% extends "base.html" %}

{% block title %}Reset password Â· cellSplitter{% endblock %}

{% block content %}
  <section class="section">
    <div class="section-header">
      <h1>Reset password</h1>
      <p>Answer your security question to reset your password.</p>
    </div>
    <div class="grid">
      <article class="card">
        <header class="card-header">
          <h2>Password reset</h2>
        </header>
        {% if step == "email" %}
          <form class="card-body form" method="post" autocomplete="off">
            <label>
              <span>Email</span>
              <input type="email" name="email" required autofocus placeholder="your@email.com" autocomplete="off" spellcheck="false" />
            </label>
            <div class="form-actions">
              <button class="button primary" type="submit">Continue</button>
            </div>
          </form>
        {% elif step == "answer" %}
          <form class="card-body form" method="post" autocomplete="off">
            <input type="hidden" name="email" value="{{ email }}" />
            <div class="form-field">
              <label>
                <span>Security question</span>
                <p class="security-question">{{ security_question }}</p>
              </label>
            </div>
            <label>
              <span>Security answer</span>
              <input type="text" name="security_answer" required autofocus placeholder="Your answer" autocomplete="off" spellcheck="false" />
            </label>
            <label>
              <span>New password</span>
              <input type="password" name="new_password" required placeholder="Enter new password" autocomplete="off" />
            </label>
            <div class="form-actions">
              <button class="button primary" type="submit">Reset password</button>
            </div>
          </form>
        {% endif %}
        <div class="card-body">
          <p>
            <a href="{{ url_for('login') }}">Back to login</a>
          </p>
        </div>
      </article>
    </div>
  </section>
{% endblock %}

