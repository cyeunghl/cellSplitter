{% extends "base.html" %}

{% block title %}Forgot Password{% endblock %}

{% block content %}
<div style="max-width: 500px; margin: 2rem auto;">
  <h1>Forgot Password</h1>

  {% if step == "email" %}
  <form method="post" autocomplete="off">
    <label>
      <span>Email</span>
      <input type="email" name="email" required placeholder="you@example.com" autocomplete="off" spellcheck="false" />
    </label>
    <button class="button primary" type="submit">Continue</button>
  </form>
  {% elif step == "security" %}
  <form method="post" autocomplete="off">
    <input type="hidden" name="email" value="{{ email }}" />
    <p><strong>Security question:</strong> {{ security_question }}</p>
    <label>
      <span>Security answer</span>
      <input type="text" name="security_answer" required autocomplete="off" spellcheck="false" />
    </label>
    <label>
      <span>New password</span>
      <input type="password" name="new_password" required minlength="8" autocomplete="off" />
    </label>
    <button class="button primary" type="submit">Reset password</button>
  </form>
  {% endif %}

  <p style="margin-top: 1rem; text-align: center;">
    Remembered it? <a href="{{ url_for('login') }}">Back to login</a>
  </p>
</div>
{% endblock %}

